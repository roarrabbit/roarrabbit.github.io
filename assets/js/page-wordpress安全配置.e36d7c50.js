(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1166:function(s,t,a){"use strict";a.r(t);var n=a(1),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("最近有一个弄部门的wp的想法，于是就想记录一些关于建站的小问题\n由于我们部门是网络中心，目前的模式都是按照你报故障我上门的模式来执行，到了后期故障慢慢都少了许多，于是就有了建wp的想发，可以让出了小问题的同学在上面自行解决，这样估计能省去一大堆人手吧哈哈")]),s._v(" "),a("h1",{attrs:{id:"区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[s._v("#")]),s._v(" 区别")]),s._v(" "),a("p",[s._v("上面所写的wp是指wordpress，可能你会问有了hexo为啥还需要wp呢？\n我想列一下我所了解的区别")]),s._v(" "),a("ol",[a("li",[s._v("WP\n"),a("ul",[a("li",[s._v("优点\n"),a("ul",[a("li",[s._v("wordpress的好处在于几乎所有事情都能在浏览器上完成，无论你是在本机电脑还是在服务器搭建，登录账号你就能编辑写文章装插件调主题等等的操作！")]),s._v(" "),a("li",[s._v("你可以在多平台下在线操作网站")])])]),s._v(" "),a("li",[s._v("缺点\n"),a("ul",[a("li",[s._v("让我最不喜欢的"),a("strong",[s._v("小缺点")]),s._v("就是没有文章的导航..")]),s._v(" "),a("li",[s._v("由于是动态网页，而且整体上了浏览器，在加载页面上会导致处理一些处理速度底下")]),s._v(" "),a("li",[s._v("CDN和域名是刚需！")])])])])]),s._v(" "),a("li",[s._v("Hexo\n"),a("ul",[a("li",[s._v("优点\n"),a("ul",[a("li",[s._v("由于是静态页面所以加载速度比较快，还可以免费托管在不同的git平台上，所以你没有服务器都行")]),s._v(" "),a("li",[s._v("主题较为简洁，wp东西多了还是会容易臃肿的")])])]),s._v(" "),a("li",[s._v("缺点\n"),a("ul",[a("li",[s._v("由于是静态页面且托管在第三方git平台，所以无法在线编辑，在其他电脑上部署环境麻烦（痛点！）")]),s._v(" "),a("li",[s._v("需要在本地或安装hexo-admin用npm调用才能完成一篇文章")]),s._v(" "),a("li",[s._v("严重依靠git平台")])])])])])]),s._v(" "),a("h1",{attrs:{id:"正文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正文"}},[s._v("#")]),s._v(" 正文")]),s._v(" "),a("p",[s._v("说了那么多也还是为了铺垫，目前为止我两个平台都些许有用，由于我都是使用md作为笔记使用，所以就打算在hexo中放我的笔记，在wp中放文章，虽然wp可以md但是图片如果依赖第三方图床还是比较麻烦的，不见了怎么办233")]),s._v(" "),a("h2",{attrs:{id:"操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[s._v("#")]),s._v(" 操作")]),s._v(" "),a("h3",{attrs:{id:"允许任意访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#允许任意访问"}},[s._v("#")]),s._v(" 允许任意访问")]),s._v(" "),a("p",[s._v("默认是只允许一个域名，在使用wp的时候也可以指定特定的域名，就是菜单与链接是写死的，这个算是硬伤之一，那我就是要怎么弄？")]),s._v(" "),a("ol",[a("li",[s._v("在wp文站更目录下找到wp-config.php，找到指定行")])]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require_once")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ABSPATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" 'wp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("settings"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("php’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("在他的前面添加：")])]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$yovisunhome")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'http://'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP_HOST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    \n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$yovisunsiteurl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'http://'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP_HOST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'WP_HOME'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$yovisunhome")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'WP_SITEURL'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$yovisunsiteurl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("添加完之后，上面的变量能用来获取当前访问的域名，这样就能根据这个域名实现多域名绑定，当然这也算是个治标不治本的方法，毕竟许多按钮的链接是写死的绝对路径")])]),s._v(" "),a("h3",{attrs:{id:"允许指定域名访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#允许指定域名访问"}},[s._v("#")]),s._v(" 允许指定域名访问")]),s._v(" "),a("p",[s._v("目前我自己是使用这种方法，起码比起允许任意访问来的安全")]),s._v(" "),a("ol",[a("li",[s._v("在wp文站更目录下找到wp-config.php，找到指定行")])]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require_once")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ABSPATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" 'wp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("settings"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("php’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("在他的前面添加以下代码，记得修改"),a("code",[s._v('"link1.com", "link2.net"')]),s._v("：")])]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$domain")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"link1.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"link2.net"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("in_array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP_HOST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$domain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'WP_SITEURL'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'http://'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP_HOST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'WP_HOME'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'http://'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP_HOST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("修改了link1和link2之后你就可以通过指定的域名访问你的站点了！")])]),s._v(" "),a("h3",{attrs:{id:"保护wp-config-php文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#保护wp-config-php文件"}},[s._v("#")]),s._v(" 保护wp-config.php文件")]),s._v(" "),a("p",[a("code",[s._v("wp-config.php")]),s._v("这个文件如同wp的指路牌，所以要保护好他")]),s._v(" "),a("ol",[a("li",[s._v("在.·htaccess·文件中的最后面添加：")])]),s._v(" "),a("div",{staticClass:"language-.htaccess line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 保护 wp-config.php 文件\n\n<Files wp-config.php>\n\nOrder allow,deny\n\nDeny from All\n\n</Files>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"保管好你的密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#保管好你的密码"}},[s._v("#")]),s._v(" 保管好你的密码")]),s._v(" "),a("p",[s._v("安全起见建议最好密码时不时更换一下，即使你的密码有100位长，只要有时间照样能穷举出来")]),s._v(" "),a("h3",{attrs:{id:"即使更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#即使更新"}},[s._v("#")]),s._v(" 即使更新")]),s._v(" "),a("p",[s._v("wp时不时会发布新版本，虽然说wp更新可能会导致插件不兼容或者其他问题，所以这个看个人，切记时不时备份一次wp")]),s._v(" "),a("h3",{attrs:{id:"保护安装文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#保护安装文件"}},[s._v("#")]),s._v(" 保护安装文件")]),s._v(" "),a("p",[s._v("在根目录下的wp-admin/install.php的文件，他可以安装或者重装你的wp站点，你可以删除他，这并不会对你的站点造成影响（要重装除外）")]),s._v(" "),a("h3",{attrs:{id:"移除登录错误信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移除登录错误信息"}},[s._v("#")]),s._v(" 移除登录错误信息")]),s._v(" "),a("p",[s._v("在wp登录的时候你会发现如果输入了存在的用户输错了密码会提示"),a("code",[s._v("密码错误")]),s._v("，而输入不存在的用户则会提醒"),a("code",[s._v("用户不存在")]),s._v("，按这个思路我就能穷举出你的用户名，如何修改？")]),s._v(" "),a("ol",[a("li",[s._v("找到目录"),a("code",[s._v("/wp-content/themes/你的站点主题/functions.php")]),s._v("的后面添加一行代码")])]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("no_wordpress_errors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'用户名或密码错误!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add_filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'login_errors'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'no_wordpress_errors'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"插件推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件推荐"}},[s._v("#")]),s._v(" 插件推荐")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://wordpress.org/plugins/login-lockdown/",target:"_blank",rel:"noopener noreferrer"}},[s._v(" Login LockDown"),a("OutboundLink")],1),s._v("  登录超过次数直接扳掉")]),s._v(" "),a("li",[s._v("WP-China-Yes 国内访问wp必备，这个需要第三方安装"),a("a",{attrs:{href:"https://github.com/sunxiyuan/wp-china-yes",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我跳转"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://wordpress.org/plugins/https://wordpress.org/plugins/wp-super-cache/",target:"_blank",rel:"noopener noreferrer"}},[s._v("WP Super Cache"),a("OutboundLink")],1),s._v(" 缓存")]),s._v(" "),a("li",[a("a",{attrs:{href:"http://wordpress.org/plugins/wp-statistics/",target:"_blank",rel:"noopener noreferrer"}},[s._v("WP Statistics"),a("OutboundLink")],1),s._v(" wp仪盘表分析和统计工具")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://wordpress.org/plugins/wenprise-pinyin-slug/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Wenprise Pinyin Slug"),a("OutboundLink")],1),s._v("将标题的名字自动转换成拼音，也可以翻译，不过需要获得API")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://wordpress.org/plugins/external-media-without-import/",target:"_blank",rel:"noopener noreferrer"}},[s._v("External Media without Import"),a("OutboundLink")],1),s._v("将外部图片作为链接保存在图库，而不是下载下来")])]),s._v(" "),a("h1",{attrs:{id:"写在后面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写在后面"}},[s._v("#")]),s._v(" 写在后面")]),s._v(" "),a("p",[s._v("说不定真香警告突然出现又转去其他阵营了？折腾哇QAQ")]),s._v(" "),a("p",[a("br"),a("br"),a("br"),a("br"),a("br")]),a("center",[s._v("无法逃避的是自我，而无法挽回的是过去。\n-- 机动战士高达")]),a("p")],1)}),[],!1,null,null,null);t.default=r.exports}}]);